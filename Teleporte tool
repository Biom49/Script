local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local function createTween(targetPosition)
	local player = Players.LocalPlayer
	local character = player.Character or player.CharacterAdded:Wait()
	local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
	
	local tweenInfo = TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
	local tween = TweenService:Create(humanoidRootPart, tweenInfo, {CFrame = CFrame.new(targetPosition)})
	tween:Play()
	tween.Completed:Wait()
end

local teleportTool = Instance.new("Tool")
teleportTool.Name = "Teleport Tool"
teleportTool.RequiresHandle = false

local function onTeleportActivated()
	local player = Players.LocalPlayer
	local mouse = player:GetMouse()

	if mouse.Target then
		local targetPosition = mouse.Hit.p
		createTween(targetPosition)
	end
end

teleportTool.Activated:Connect(onTeleportActivated)
teleportTool.Parent = Players.LocalPlayer.Backpack

local twiceTeleportTool = Instance.new("Tool")
twiceTeleportTool.Name = "Twice Teleport Tool"
twiceTeleportTool.RequiresHandle = false

local function onTwiceTeleportActivated()
	local player = Players.LocalPlayer
	local mouse = player:GetMouse()

	if mouse.Target then
		local targetPosition = mouse.Hit.p + Vector3.new(0, 0, 1)
		createTween(targetPosition)
	end
end

twiceTeleportTool.Activated:Connect(onTwiceTeleportActivated)
twiceTeleportTool.Parent = Players.LocalPlayer.Backpack
